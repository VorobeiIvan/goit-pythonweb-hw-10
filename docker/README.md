# Налаштування Docker

Ця директорія містить файли для налаштування та запуску проєкту за допомогою Docker.

## Файли

- **Dockerfile**: Визначає Docker-образ для застосунку.
- **docker-compose.yml**: Конфігурує та запускає багатоконтейнерні Docker-застосунки.
- **start.sh**: Скрипт для запуску додатку в різних режимах (`dev` або `prod`).
- **.dockerignore**: Виключає непотрібні файли з контексту збірки Docker.

## Використання

1. **Створіть Docker-образ**:

    ```bash
    docker build -t your-image-name .
    ```

2. **Запустіть застосунок за допомогою Docker Compose**:

    ```bash
    docker-compose up
    ```

3. **Зупиніть застосунок**:

    ```bash
    docker-compose down
    ```

4. **Запуск за допомогою скрипта**:

    ```bash
    ./start.sh
    ```

Переконайтеся, що Docker та Docker Compose встановлені на вашій системі.

## Примітки

- Конфігурація залежить від змінних середовища, збережених у `.env`.
- Перед використанням зробіть скрипт `start.sh` виконуваним:

  ```bash
  chmod +x start.sh
  ```

## Конфігурація сервісів

### Сервіс `db` (PostgreSQL)

- **Образ**: `postgres:15`
- **Ім'я контейнера**: `postgres_db`
- **Порти**: `5432:5432`
- **Volume**: Збереження даних у `postgres_data`.
- **Перевірка стану**: Автоматична перевірка доступності за допомогою `pg_isready`.

### Сервіс `web` (FastAPI)

- **Збірка образу**: З поточного каталогу.
- **Ім'я контейнера**: `fastapi_app`
- **Порти**: `8000:8000`
- **Запуск**: Через скрипт `/start.sh`.
- **Volume**: Підключення локального коду для зручності розробки.
